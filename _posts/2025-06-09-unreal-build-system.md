---
title: 언리얼 빌드 시스템
description: 빌드 시스템
author: gemini
date: 2025-06-08 21:00:00 +09:00
categories: [Unreal, part1]
tags: [build]
math: true
mermaid: true
---

**언리얼 에디터 구성**
- 게임 제작을 위해 에픽 제임즈가 제공하는 저작 도구
- 언리얼 엔진의 구성
	- **에디터** : 게임 제작을 위해 제공되는 응용 프로그램 (일반적으로 인식하는 언리얼 엔진)
	- **게임 빌드** : EXE 파일과 리소스로 이루어진 독립적으로 동작하는 게임 클라이언트

- 언리얼 에디터의 특징
	- 게임 개발 작업을 위해 다양한 폴더와 파일 이름 규칙이 미리 설정되어 있다
	- 정해진 규칙을 잘 파악하고 프로젝트 폴더와 파일을 설정해야 함

- 에디터에서 기획과 개발을 완료한 후, 게임 빌드를 통해 최종 게임 빌드를 제작하도록 설정

---------------------------------------------------------

**언리얼 에디터의 동작**
- 프로젝트 폴더의 uproject 확장자를 더블 클릭하면 에티터가 트리거 됨
- 에디터의 실행 방식
	- uproject 확장자는 윈도우 레지스트리에 등록되어 있음
		- 등록이 안되어 있다면 런처를 실행해 등록
	- UnrealVersionSelector 프로그램으로 프로젝트 정보가 넘겨짐
	- UnrealVersionSelector는 런처가 저장한 에터 정보로부터 버전에 맞는 에디터를 실행

- UnrealVersionSelector 소스는 에픽게임즈 GitHub에서 확인 가능
	- ~~[UnrealVersionSelector 소스](https://github.com/EpicGames/UnrealEngine/tree/release/Engine/Source/Programs/UnrealVersionSelector)~~

---------------------------------------------------------

**에디터 버전 정보 파악**
- 프로젝트.uproject 텍스트 파일에 정해져있음
- .uproject 확장자는 에디터를 띄우기 위한 명세서 역할을 함
- 버전 내용은 JSON 형식으로 구성되어 있음
- 파일에 기록된 버전 정보를 바탕으로 에픽 런처가 지정한 정보를 찾아 에디터를 실행함
	- ProgramData/Epic/UnrealLauncher 폴더에 관련 정보가 있음
	- 이 역시 JSON 형식으로 설치된 언리얼 버전 정보가 기록되어 있음

---------------------------------------------------------

**블루프린트 프로젝트**
- C++ 코드가 없는 언리얼 프로젝트를 의미함
- 언리얼 엔진이 제공하는 기본 기능을 활용해 게임을 제작하는 프로젝트
- 언리얼 엔진은 게임 제작에 필요한 기능을 모듈이라는 단위로 제공하고 있음
- 언리얼 엔진의 모듈을 상속받아 블루프린트를 활용해 모든 기능과 로직을 구현하는 방식
- ![블루프린트 프로젝트.png](/assets/img/posts/file_photos/블루프린트%20프로젝트.png)

---------------------------------------------------------

**언리얼 C++ 프로젝트**
-  언리얼 엔진 C++ 모듈에 개발자가 추가로 자신만의 C++ 모듈을 추가할 수 있음
- 언리얼 엔진 모듈과 개발자 모듈을 함께 사용하는 프로젝트
- ![언리얼 C++ 프로젝트.png](/assets/img/posts/file_photos/언리얼%20C++%20프로젝트.png)

---------------------------------------------------------

**언리얼 C++ 모듈**
- 언리얼 엔진의 소스코드는 모두 모듈(Module) 단위로 구성되어 있음
- 모듈을 컴파일함으로서 에디터 및 게임에 우리가 제작한 로직을 공급할 수 있음
- 모듈 단위로 구성된 C++ 소스 코드를 컴파일한 결과물
	- 에디터 용으로 DLL 동적라이브러리
	- 게임용으로는 정적 라이브러리

- 에디터 용 모듈은 언제나 UnrealEditor-{모듈이름}.DLL 이름 규칙을 가지고 있음

---------------------------------------------------------

**언리얼 C++ 모듈 추가**
- 기본 언리얼 모듈에 우리가 제작한 C++ 모듈을 추가해 에디터를 띄우고 싶은 경우
- 우리가 만든 에디터 모듈(DLL 동적라이브러리)을 빌드 폴더에 넣어주어야 함
	- Windows의 경우 Binaries/Win64 폴더에 해당 DLL을 넣어야 함
	- 빌드된 모듈 목록이 있는 UnrealEditor.modules 파일도 같은 폴더에 넣어주어야 인식됨

- uproject 명세서에 모듈 이름을 지정하고 에디터를 실행

---------------------------------------------------------

**모듈 C++ 코드의 관리**
- 언리얼 프로젝트가 소스 코드를 관리하는 규칙에 따라 소스 코드 구조를 구성해야 함
- 소스 코드는 멀티 플랫폼 빌드 시스템을 지원하기 위해 특정 프로그램에 종속되어 있지 않음
- 실제 빌드를 진행하는 주체 : Unreal Build Tool 이라는 C# 프로그램
- Source 폴더에 지정된 규칙대로 소스를 넣으면 플랫폼에 맞춰서 알아서 컴파일을 진행
- ![모듈 C++ 코드의 관리.png](/assets/img/posts/file_photos/모듈%20C++%20코드의%20관리.png)

---------------------------------------------------------

**Source 폴더의 구조**
- Source 폴더
	- **타겟 설정 파일**
	- 모듈 폴더(보통은 프로젝트 이름으로 모듈 이름을 지정)
		- **모듈 설정 파일**
		- 소스 코드 파일 (.h 및 .cpp 파일들)

- 타겟 설정 파일 : 전체 솔루션이 다룰 빌드 대상을 지정함
	- {프로젝트이름}.Target.cs : 게임 빌드 설정
	- {프로젝트이름}Editor.Target.cs : 에디터 빌드 설정

- 모듈 설정 파일 : 모듈을 빌드하기 위한 C++ 프로젝트 설정 정보
	- {모듈이름}.Build.cs : 모듈을 빌드하기 위한 환경 설정

>C#이 가진 유연한 기능(compile on-the-fly)을 활용해 런타임에 cs 파일을 읽어 빌드 환경을 구축하고 컴파일을 진행함
{: .prompt-info}

---------------------------------------------------------

**게임 프로젝트의 소스**
- 내가 만든 소스가 게임 프로젝트의 C++ 모듈이 되기 위해 필요한 것
- 모듈(Module)을 구현한 선언한 헤더와 소스 파일이 있어야 함
	- 주로 {모듈이름}.h와 {모듈이름}.cpp로 지정함

- 모듈의 뼈대를 제작
	- 매크로를 통해 기본 뼈대 구조를 제작
		- **IMPLEMENT_MODULE** : 일반 모듈
		- **IMPLEMENT_GAME_MODULE** : 게임 모듈
		- **IMPLEMENT_PRIMARY_GAME_MODULE** : 주 게임 모듈

- 일반적으로 게임 프로젝트는 주 게임 모듈을 하나 선언해야 함

>모든 준비가 완료되면 Generate Visual Studio project files. 메뉴를 선택<br>
>intermediate 폴더에 프로젝트 관련 파일이 자동으로 생성됨<br>
>Source 폴더를 규칙에 맞게 구성하면 Intermediate 폴더는 언제든지 재생성이 가능함
{: .prompt-tip}

[언리얼 모듈](https://gemini9764.github.io/posts/unreal-module/)

[언리얼 플러그인](https://gemini9764.github.io/posts/unreal-plugin/)

---------------------------------------------------------

**게임 빌드**
- 게임 타겟 설정을 추가하면 게임 빌드 옵션이 추가됨
- 게임 타겟으로 빌드된 모듈은 정적 라이브러리로 실행 파일에 포함됨
- 게임이 실행되기 위해서는 실행 파일과 콘텐츠 애셋이 함께 있어야 함
- **빌드** : 실행 파일을 생성하기 위한 컴파일
- **쿠킹** : 지정한 플랫폼에 맞춰 콘텐츠 애셋을 변환하는 작업
- **패키징** : 이들을 모두 모아서 하나의 프로그램으로 만드는 작업

---------------------------------------------------------